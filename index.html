<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>CHAT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:linear-gradient(135deg,#000,#1a0033,#000);
  color:#fff;
  text-align:center;
}
.container{
  max-width:420px;
  margin:60px auto;
  background:rgba(0,0,0,.9);
  padding:25px;
  border-radius:16px;
  box-shadow:0 0 25px #ff00ff;
}
button,input{
  width:100%;
  padding:14px;
  margin-top:10px;
  border:none;
  border-radius:8px;
}
button{
  background:linear-gradient(90deg,#ff00ff,#ff0066);
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
input{
  background:#111;
  color:#fff;
  border:1px solid #333;
}
</style>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import {
  getAuth,
  GoogleAuthProvider,
  signInWithPopup,
  onAuthStateChanged,
  signOut,
  updateProfile
} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

/* ðŸ”´ PEGA AQUÃ TUS DATOS REALES */
const firebaseConfig = {
  apiKey: "PEGA_AQUI_TU_API_KEY",
  authDomain: "chat-1adf8.firebaseapp.com",
  projectId: "chat-1adf8",
  appId: "PEGA_AQUI_TU_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

/* LOGIN GOOGLE */
window.loginGoogle = async () => {
  try{
    await signInWithPopup(auth, provider);
  }catch(e){
    alert("Error: " + e.message);
  }
};

/* SESIÃ“N */
onAuthStateChanged(auth, user=>{
  if(user){
    document.getElementById("login").style.display="none";
    document.getElementById("cuenta").style.display="block";
    document.getElementById("user").innerText =
      user.displayName || user.email;
  }
});

/* GUARDAR NICK */
window.guardarNick = async ()=>{
  const nick = document.getElementById("nick").value;
  if(!nick) return alert("Escribe un nick");
  await updateProfile(auth.currentUser,{displayName:nick});
  document.getElementById("user").innerText = nick;
  alert("Nick guardado");
};

/* SALIR */
window.salir = async ()=>{
  await signOut(auth);
  location.reload();
};
</script>
</head>

<body>

<div class="container" id="login">
  <h2>ðŸ”¥ CHAT ðŸ”¥</h2>
  <p>Accede con tu cuenta Google</p>
  <button onclick="loginGoogle()">Entrar con Google</button>
</div>

<div class="container" id="cuenta" style="display:none">
  <h3>Bienvenido</h3>
  <p>ðŸ‘¤ <span id="user"></span></p>

  <input id="nick" placeholder="Cambiar nick">
  <button onclick="guardarNick()">Guardar nick</button>

  <br><br>
  <button onclick="salir()">Salir</button>
</div>

</body>
</html>
