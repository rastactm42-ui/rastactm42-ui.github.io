<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Chat</title>
<style>
body{
  margin:0;
  font-family:Arial;
  background:linear-gradient(135deg,#000,#1a0033,#000);
  color:#fff;
}
.container{
  max-width:400px;
  margin:50px auto;
  background:rgba(0,0,0,.9);
  padding:20px;
  border-radius:16px;
  box-shadow:0 0 25px #ff00ff;
  animation:pop .5s;
}
@keyframes pop{from{opacity:0;transform:scale(.9)}to{opacity:1}}
h2{text-align:center;color:#ff00ff;text-shadow:0 0 10px}
input,select,button{
  width:100%;padding:12px;margin:6px 0;
  border:none;border-radius:8px;
}
input,select{background:#111;color:#fff;border:1px solid #333}
button{
  background:linear-gradient(90deg,#ff00ff,#ff0066);
  color:#fff;font-weight:bold;cursor:pointer;
  box-shadow:0 0 12px #ff00ff;
}
#chat{display:none}
#mensajes{
  height:220px;overflow-y:auto;
  background:#000;border:1px solid #333;
  padding:10px;margin-bottom:8px;
}
.mensaje{margin-bottom:6px}
.hombre{color:#4da6ff}
.chica{color:#ff66cc}
.regalo{color:#ffd700;font-weight:bold}
.panel{font-size:14px;margin-bottom:6px}
</style>
</head>
<body>

<div class="container" id="login">
  <h2>üî• CHAT üî•</h2>
  <input id="usuario" placeholder="Correo o n√∫mero">
  <select id="tipo">
    <option value="hombre">üë® Hombre</option>
    <option value="chica">üë© Chica</option>
  </select>
  <button onclick="entrar()">ENTRAR</button>
</div>

<div class="container" id="chat">
  <h2>üí¨ CHAT</h2>

  <div class="panel">
    üë§ <span id="infoUser"></span><br>
    üí∞ Monedas: <span id="monedas">0</span>
  </div>

  <div id="mensajes"></div>

  <input id="texto" placeholder="Escribe un mensaje">
  <button onclick="enviar()">ENVIAR</button>
  <button onclick="regalo()">üéÅ Enviar regalo (10)</button>

  <button onclick="salir()">üö™ Salir</button>
</div>

<script><!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBszwdqJLY0GiPNlxh37_wNpSsIm0y9N0c",
  authDomain: "chat-1adf8.firebaseapp.com",
  projectId: "chat-1adf8",
  storageBucket: "chat-1adf8.firebasestorage.app",
  messagingSenderId: "466107819820",
  appId: "1:466107819820:web:e297a7c513db3d96696e89"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
</script>

let user="", tipo="", monedas=0;

function guardar(){
  localStorage.setItem("user",user);
  localStorage.setItem("tipo",tipo);
  localStorage.setItem("monedas",monedas);
}

function cargar(){
  user=localStorage.getItem("user");
  tipo=localStorage.getItem("tipo");
  monedas=parseInt(localStorage.getItem("monedas")||"100");

  if(user && tipo){
    document.getElementById("login").style.display="none";
    document.getElementById("chat").style.display="block";
    document.getElementById("infoUser").innerText=user+" ("+tipo+")";
    document.getElementById("monedas").innerText=monedas;
  }
}

function entrar(){
  user=document.getElementById("usuario").value;
  tipo=document.getElementById("tipo").value;
  if(!user) return alert("Ingresa correo o n√∫mero");
  monedas=100;
  guardar();
  cargar();
}

function enviar(){
  const t=document.getElementById("texto").value;
  if(!t) return;
  const d=document.createElement("div");
  d.className="mensaje "+tipo;
  d.textContent=user+": "+t;
  document.getElementById("mensajes").appendChild(d);
  document.getElementById("texto").value="";
}

function regalo(){
  if(tipo!=="hombre") return alert("Solo hombres env√≠an regalos");
  if(monedas<10) return alert("No tienes monedas");
  monedas-=10;
  document.getElementById("monedas").innerText=monedas;
  guardar();
  const d=document.createElement("div");
  d.className="mensaje regalo";
  d.textContent="üéÅ "+user+" envi√≥ un regalo";
  document.getElementById("mensajes").appendChild(d);
}

function salir(){
  localStorage.clear();
  location.reload();
}

cargar();
</script>

</body>
</html>
